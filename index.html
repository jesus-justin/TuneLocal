<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TuneLocal - Your Personal Music Hub</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Background Animation -->
    <div class="bg-animation">
        <div class="wave wave1"></div>
        <div class="wave wave2"></div>
        <div class="wave wave3"></div>
    </div>

    <!-- Navbar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <i class="fas fa-music"></i>
                <span>TuneLocal</span>
            </div>
            <div class="nav-links">
                <a href="#home" class="nav-link active" data-section="home">
                    <i class="fas fa-home"></i> Home
                </a>
                <a href="#spotify" class="nav-link" data-section="spotify">
                    <i class="fab fa-spotify"></i> Spotify
                </a>
                <a href="#youtube" class="nav-link" data-section="youtube">
                    <i class="fab fa-youtube"></i> YouTube
                </a>
                <a href="#discover" class="nav-link" data-section="discover">
                    <i class="fas fa-compass"></i> Discover
                </a>
                <a href="#saved-songs" class="nav-link" data-section="saved-songs">
                    <i class="fas fa-heart"></i> Saved Songs
                </a>
                <a href="#offline-music" class="nav-link" data-section="offline-music">
                    <i class="fas fa-download"></i> Offline Music
                </a>
                <a href="#downloader" class="nav-link" data-section="downloader">
                    <i class="fas fa-cloud-download-alt"></i> Downloader
                </a>
                <a href="#playlists" class="nav-link" data-section="playlists">
                    <i class="fas fa-list-ul"></i> Playlists
                </a>
            </div>
            <div class="theme-toggle">
                <i class="fas fa-moon"></i>
            </div>
        </div>
    </nav>

    <!-- Main Container -->
    <div class="main-container">
        
        <!-- Home Section -->
        <section id="home" class="section active">
            <div class="hero">
                <div class="hero-content">
                    <h1 class="glitch" data-text="Welcome to TuneLocal">Welcome to TuneLocal</h1>
                    <p class="hero-subtitle">Your personal music streaming hub - All your favorite music in one place</p>
                    <div class="hero-buttons">
                        <button class="btn btn-primary" onclick="showSection('spotify')">
                            <i class="fab fa-spotify"></i> Open Spotify
                        </button>
                        <button class="btn btn-secondary" onclick="showSection('youtube')">
                            <i class="fab fa-youtube"></i> Open YouTube
                        </button>
                    </div>
                </div>
                
                <div class="stats-container">
                    <div class="stat-card">
                        <i class="fas fa-music"></i>
                        <h3>âˆž</h3>
                        <p>Songs Available</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-headphones"></i>
                        <h3>24/7</h3>
                        <p>Always Online</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-heart"></i>
                        <h3>Your</h3>
                        <p>Favorites</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Spotify Section -->
        <section id="spotify" class="section">
            <div class="section-header">
                <h2><i class="fab fa-spotify"></i> Spotify Player</h2>
                <p>Enjoy your favorite Spotify playlists and albums</p>
            </div>
            
            <div class="player-container">
                <div class="spotify-input-group">
                    <input type="text" id="spotifyUrl" placeholder="Paste Spotify playlist/album/track URL here..." class="url-input">
                    <button class="btn btn-primary" onclick="loadSpotify()">
                        <i class="fas fa-play"></i> Load
                    </button>
                </div>
                
                <div class="player-wrapper" id="spotifyPlayer">
                    <div class="default-player">
                        <i class="fab fa-spotify"></i>
                        <h3>Your Spotify Content Will Appear Here</h3>
                        <p>Paste a Spotify URL above and click Load</p>
                    </div>
                </div>
            </div>

            <div class="quick-links">
                <h3>Quick Load Presets</h3>
                <div class="preset-cards">
                    <div class="preset-card" onclick="loadPresetSpotify('playlist/7GRnA1buU09xvdDoSJlyEw')">
                        <i class="fas fa-list-ul"></i>
                        <span>Your Playlist</span>
                    </div>
                    <div class="preset-card" onclick="loadPresetSpotify('playlist/37i9dQZF1DXcBWIGoYBM5M')">
                        <i class="fas fa-fire"></i>
                        <span>Today's Top Hits</span>
                    </div>
                    <div class="preset-card" onclick="loadPresetSpotify('playlist/37i9dQZF1DX4dyzvuaRJ0n')">
                        <i class="fas fa-bolt"></i>
                        <span>Mint</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- YouTube Section -->
        <section id="youtube" class="section">
            <div class="section-header">
                <h2><i class="fab fa-youtube"></i> YouTube Player</h2>
                <p>Watch and listen to music videos from YouTube</p>
            </div>
            
            <div class="player-container">
                <div class="youtube-input-group">
                    <input type="text" id="youtubeUrl" placeholder="Paste YouTube video or playlist URL here..." class="url-input">
                    <button class="btn btn-primary" onclick="loadYouTube()">
                        <i class="fas fa-play"></i> Load
                    </button>
                </div>
                
                <div class="player-wrapper youtube-wrapper" id="youtubePlayer">
                    <div class="default-player">
                        <i class="fab fa-youtube"></i>
                        <h3>Your YouTube Video Will Appear Here</h3>
                        <p>Paste a YouTube URL above and click Load</p>
                    </div>
                </div>
            </div>

            <div class="quick-links">
                <h3>Popular Music Channels</h3>
                <div class="preset-cards">
                    <div class="preset-card" onclick="loadPresetYouTube('https://www.youtube.com/watch?v=dQw4w9WgXcQ')">
                        <i class="fas fa-music"></i>
                        <span>Music Mix</span>
                    </div>
                    <div class="preset-card" onclick="loadPresetYouTube('https://www.youtube.com/watch?v=jfKfPfyJRdk')">
                        <i class="fas fa-headphones"></i>
                        <span>Lofi Beats</span>
                    </div>
                    <div class="preset-card" onclick="loadPresetYouTube('https://www.youtube.com/watch?v=5qap5aO4i9A')">
                        <i class="fas fa-guitar"></i>
                        <span>Live Session</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Discover Music Section -->
        <section id="discover" class="section">
            <div class="section-header">
                <h2><i class="fas fa-compass"></i> Discover Music</h2>
                <p>Explore curated music collections by mood and genre</p>
            </div>

            <div class="discover-container">
                <!-- Category Filters -->
                <div class="category-filters">
                    <button class="category-btn active" data-category="all">
                        <i class="fas fa-star"></i> All
                    </button>
                    <button class="category-btn" data-category="happy">
                        <i class="fas fa-smile"></i> Happy
                    </button>
                    <button class="category-btn" data-category="chill">
                        <i class="fas fa-cloud"></i> Chill
                    </button>
                    <button class="category-btn" data-category="sad">
                        <i class="fas fa-heart-broken"></i> Sad
                    </button>
                    <button class="category-btn" data-category="energetic">
                        <i class="fas fa-bolt"></i> Energetic
                    </button>
                    <button class="category-btn" data-category="anime">
                        <i class="fas fa-dragon"></i> Anime
                    </button>
                    <button class="category-btn" data-category="phonk">
                        <i class="fas fa-car"></i> Phonk
                    </button>
                    <button class="category-btn" data-category="lofi">
                        <i class="fas fa-headphones"></i> Lo-Fi
                    </button>
                    <button class="category-btn" data-category="rock">
                        <i class="fas fa-guitar"></i> Rock
                    </button>
                    <button class="category-btn" data-category="electronic">
                        <i class="fas fa-microchip"></i> Electronic
                    </button>
                </div>

                <!-- Music Collections Grid -->
                <div class="discover-grid" id="discoverGrid">
                    <!-- Cards will be populated by JavaScript -->
                </div>

                <!-- Player Modal -->
                <div class="discover-player-modal" id="discoverPlayerModal" style="display: none;">
                    <div class="modal-content-discover">
                        <div class="modal-header-discover">
                            <h3 id="discoverModalTitle">Now Playing</h3>
                            <button class="close-modal-btn" onclick="closeDiscoverPlayer()">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div class="modal-body-discover">
                            <div id="discoverPlayerContainer"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Offline Music Section -->
        <section id="offline-music" class="section">
            <div class="section-header">
                <h2><i class="fas fa-download"></i> Offline Music Library</h2>
                <p>Upload and play your own music files - works 100% offline!</p>
            </div>

            <div class="offline-music-container">
                <!-- Upload Area -->
                <div class="upload-area" id="uploadArea">
                    <i class="fas fa-cloud-upload-alt"></i>
                    <h3>Upload Your Music Files</h3>
                    <p>Drag & drop MP3, MP4, WAV, OGG, M4A, WEBM files here</p>
                    <p class="upload-info">or click to browse</p>
                    <input type="file" id="fileInput" accept="audio/*,video/mp4,video/webm,video/ogg,.mp4,.mp3,.wav,.ogg,.m4a,.webm" multiple hidden>
                    <button class="btn btn-primary" onclick="document.getElementById('fileInput').click()">
                        <i class="fas fa-folder-open"></i> Browse Files
                    </button>
                </div>

                <!-- Now Playing Section -->
                <div class="now-playing-section" id="nowPlayingSection" style="display: none;">
                    <div class="now-playing-header">
                        <h3><i class="fas fa-music"></i> Now Playing</h3>
                    </div>
                    <div class="now-playing-info">
                        <div class="album-art">
                            <i class="fas fa-music"></i>
                        </div>
                        <div class="track-info">
                            <h4 id="currentTrackName">No track playing</h4>
                            <p id="currentTrackArtist">Select a song to play</p>
                        </div>
                    </div>
                    
                    <audio id="audioPlayer" controls style="width: 100%; margin-top: 1rem;">
                        Your browser does not support the audio element.
                    </audio>
                    
                    <div class="player-controls">
                        <button class="control-btn" onclick="previousTrack()">
                            <i class="fas fa-step-backward"></i>
                        </button>
                        <button class="control-btn play-btn" onclick="togglePlay()">
                            <i class="fas fa-play" id="playIcon"></i>
                        </button>
                        <button class="control-btn" onclick="nextTrack()">
                            <i class="fas fa-step-forward"></i>
                        </button>
                        <button class="control-btn" onclick="toggleShuffle()" id="shuffleBtn">
                            <i class="fas fa-random"></i>
                        </button>
                        <button class="control-btn" onclick="toggleRepeat()" id="repeatBtn">
                            <i class="fas fa-redo"></i>
                        </button>
                    </div>
                </div>

                <!-- Storage Stats -->
                <div class="storage-stats" id="storageStats">
                    <div class="stat-item">
                        <i class="fas fa-database"></i>
                        <div class="stat-info">
                            <span class="stat-label">Storage Used</span>
                            <span class="stat-value" id="storageUsed">0 MB</span>
                        </div>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-hdd"></i>
                        <div class="stat-info">
                            <span class="stat-label">Available Space</span>
                            <span class="stat-value" id="storageAvailable">Calculating...</span>
                        </div>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-file-audio"></i>
                        <div class="stat-info">
                            <span class="stat-label">Total Files</span>
                            <span class="stat-value" id="totalFiles">0</span>
                        </div>
                    </div>
                </div>

                <!-- Music Library -->
                <div class="music-library">
                    <div class="library-header">
                        <h3><i class="fas fa-list"></i> My Library (<span id="trackCount">0</span> tracks)</h3>
                        <div class="library-actions">
                            <button class="btn btn-primary" onclick="exportAllMusic()">
                                <i class="fas fa-file-export"></i> Export All
                            </button>
                            <button class="btn btn-secondary" onclick="clearAllOfflineMusic()">
                                <i class="fas fa-trash"></i> Clear All
                            </button>
                        </div>
                    </div>
                    <div class="music-tracks" id="musicTracks">
                        <!-- Tracks will appear here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Downloader Section -->
        <section id="downloader" class="section">
            <div class="section-header">
                <h2><i class="fas fa-cloud-download-alt"></i> Music Downloader</h2>
                <p>Download music from YouTube and save to your offline library</p>
            </div>

            <div class="downloader-container">
                <!-- Download Options -->
                <div class="download-service-cards">
                    <div class="service-card">
                        <i class="fab fa-youtube"></i>
                        <h3>YouTube to MP3</h3>
                        <p>Download audio from YouTube videos</p>
                    </div>
                    <div class="service-card">
                        <i class="fas fa-music"></i>
                        <h3>High Quality</h3>
                        <p>Best audio quality available</p>
                    </div>
                    <div class="service-card">
                        <i class="fas fa-bolt"></i>
                        <h3>Fast & Free</h3>
                        <p>Quick downloads, no limits</p>
                    </div>
                </div>

                <!-- Download Input -->
                <div class="download-input-section">
                    <h3><i class="fas fa-link"></i> Paste YouTube URL</h3>
                    <div class="download-input-group">
                        <input type="text" id="downloadUrl" placeholder="https://www.youtube.com/watch?v=..." class="url-input">
                        <button class="btn btn-primary" onclick="searchForDownload()">
                            <i class="fas fa-search"></i> Search
                        </button>
                    </div>
                </div>

                <!-- Video Info Display -->
                <div class="video-info-section" id="videoInfoSection" style="display: none;">
                    <h3><i class="fas fa-info-circle"></i> Video Information</h3>
                    <div class="video-info-card">
                        <div class="video-thumbnail" id="videoThumbnail">
                            <i class="fab fa-youtube"></i>
                        </div>
                        <div class="video-details">
                            <h4 id="videoTitle">Video Title</h4>
                            <p id="videoChannel">Channel Name</p>
                            <p id="videoDuration">Duration: --:--</p>
                        </div>
                    </div>
                </div>

                <!-- Download Services -->
                <div class="download-services">
                    <h3><i class="fas fa-external-link-alt"></i> Download Services</h3>
                    <p class="services-note">Choose your preferred download service:</p>
                    
                    <div class="service-buttons">
                        <button class="service-btn" onclick="openDownloadService('ytmp3')" disabled id="ytmp3Btn">
                            <i class="fas fa-download"></i>
                            <span>YTBmp3</span>
                            <small>Fast & Simple</small>
                        </button>
                        
                        <button class="service-btn" onclick="openDownloadService('y2mate')" disabled id="y2mateBtn">
                            <i class="fas fa-download"></i>
                            <span> YTMP3.nu</span>
                            <small>Multiple Formats</small>
                        </button>
                        
                        <button class="service-btn" onclick="openDownloadService('loader')" disabled id="loaderBtn">
                            <i class="fas fa-download"></i>
                            <span>Loader.to</span>
                            <small>HD Quality</small>
                        </button>
                        
                        <button class="service-btn" onclick="openDownloadService('savefrom')" disabled id="savefromBtn">
                            <i class="fas fa-download"></i>
                            <span>SaveFrom.net</span>
                            <small>Reliable</small>
                        </button>
                        
                        <button class="service-btn" onclick="openDownloadService('mp3juice')" disabled id="mp3juiceBtn">
                            <i class="fas fa-download"></i>
                            <span>MP3 Juice</span>
                            <small>Free Music</small>
                        </button>
                        
                        <button class="service-btn" onclick="openDownloadService('yt5s')" disabled id="yt5sBtn">
                            <i class="fas fa-download"></i>
                            <span>YTMP3s</span>
                            <small>No Ads</small>
                        </button>
                    </div>
                </div>

                <!-- Instructions -->
                <div class="download-instructions">
                    <h3><i class="fas fa-question-circle"></i> How to Download</h3>
                    <div class="instruction-steps">
                        <div class="step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h4>Copy YouTube URL</h4>
                                <p>Go to YouTube, copy the video URL from your browser</p>
                            </div>
                        </div>
                        <div class="step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h4>Paste & Search</h4>
                                <p>Paste the URL above and click Search to load video info</p>
                            </div>
                        </div>
                        <div class="step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h4>Choose Service</h4>
                                <p>Click any download service button to open the download page</p>
                            </div>
                        </div>
                        <div class="step">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <h4>Download & Upload</h4>
                                <p>Download the MP3 file, then upload it to Offline Music section</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Access -->
                <div class="quick-access-section">
                    <h3><i class="fas fa-star"></i> Quick Access Links</h3>
                    <div class="quick-links-grid">
                        <a href="https://ytbmp3.com/" target="_blank" class="quick-link">
                            <i class="fas fa-external-link-alt"></i>
                            <span>YTBmp3</span>
                        </a>
                        <a href="https://ytmp3.nu/" target="_blank" class="quick-link">
                            <i class="fas fa-external-link-alt"></i>
                            <span>YTMP3.nu</span>
                        </a>
                        <a href="https://loader.to/" target="_blank" class="quick-link">
                            <i class="fas fa-external-link-alt"></i>
                            <span>Loader.to</span>
                        </a>
                        <a href="https://en.savefrom.net/" target="_blank" class="quick-link">
                            <i class="fas fa-external-link-alt"></i>
                            <span>SaveFrom.net</span>
                        </a>
                        <a href="https://mp3juices.cc/" target="_blank" class="quick-link">
                            <i class="fas fa-external-link-alt"></i>
                            <span>MP3 Juice</span>
                        </a>
                        <a href="https://ytmp3s.nu/" target="_blank" class="quick-link">
                            <i class="fas fa-external-link-alt"></i>
                            <span>YTMP3s</span>
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Saved Songs Section -->
        <section id="saved-songs" class="section">
            <div class="section-header">
                <h2><i class="fas fa-heart"></i> Saved Songs</h2>
                <p>All your recently loaded songs and playlists - automatically saved!</p>
            </div>

            <div class="saved-songs-container">
                <div class="filter-buttons">
                    <button class="filter-btn active" onclick="filterSavedSongs('all')">
                        <i class="fas fa-th"></i> All
                    </button>
                    <button class="filter-btn" onclick="filterSavedSongs('spotify')">
                        <i class="fab fa-spotify"></i> Spotify
                    </button>
                    <button class="filter-btn" onclick="filterSavedSongs('youtube')">
                        <i class="fab fa-youtube"></i> YouTube
                    </button>
                </div>

                <div class="saved-songs-grid" id="savedSongsGrid">
                    <!-- Saved songs will appear here -->
                </div>
            </div>
        </section>

        <!-- Playlists Section -->
        <section id="playlists" class="section">
            <div class="section-header">
                <h2><i class="fas fa-list-ul"></i> My Playlists</h2>
                <p>Save and organize your favorite playlists</p>
            </div>

            <div class="playlists-container">
                <button class="btn btn-primary add-playlist-btn" onclick="togglePlaylistForm()">
                    <i class="fas fa-plus"></i> Add New Playlist
                </button>

                <div class="playlist-form" id="playlistForm" style="display: none;">
                    <h3>Add New Playlist</h3>
                    <input type="text" id="playlistName" placeholder="Playlist Name" class="form-input">
                    <input type="text" id="playlistUrl" placeholder="Spotify or YouTube URL" class="form-input">
                    <select id="playlistType" class="form-input">
                        <option value="spotify">Spotify</option>
                        <option value="youtube">YouTube</option>
                    </select>
                    <div class="form-buttons">
                        <button class="btn btn-primary" onclick="savePlaylist()">
                            <i class="fas fa-save"></i> Save
                        </button>
                        <button class="btn btn-secondary" onclick="togglePlaylistForm()">
                            <i class="fas fa-times"></i> Cancel
                        </button>
                    </div>
                </div>

                <div class="saved-playlists" id="savedPlaylists">
                    <!-- Saved playlists will appear here -->
                </div>
            </div>
        </section>

    </div>

    <!-- Music Visualizer -->
    <div class="visualizer">
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <p>&copy; 2025 TuneLocal - Your Personal Music Hub | Made with <i class="fas fa-heart"></i></p>
    </footer>

    <script src="script.js"></script>
</body>
</html>
